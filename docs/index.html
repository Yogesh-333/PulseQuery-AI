<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>PulseQuery AI ‚Äì Energy-Efficient Medical Prompt Optimization</title>
<style>
  :root{
    --bg:#0b1220;
    --card:#101a2f;
    --muted:#a8b3cf;
    --text:#e6eaf2;
    --accent:#7aa2ff;
    --accent-2:#5eead4;
    --code:#0e1729;
    --border:#1e2a44;
  }
  *{box-sizing:border-box}
  html,body{margin:0;height:100%;}
  body{
    font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, "Helvetica Neue", Arial, "Apple Color Emoji","Segoe UI Emoji";
    background: radial-gradient(1000px 600px at 10% -10%, rgba(122,162,255,.08), transparent 60%),
                radial-gradient(1000px 600px at 110% 10%, rgba(94,234,212,.08), transparent 60%),
                var(--bg);
    color: var(--text);
    line-height:1.6;
  }
  .wrap{max-width: 1050px; margin: 32px auto; padding: 0 20px 40px;}
  header{
    border:1px solid var(--border);
    background: linear-gradient(180deg, rgba(16,26,47,.6), rgba(16,26,47,.9));
    border-radius: 18px;
    padding: 28px;
    box-shadow: 0 8px 24px rgba(0,0,0,.35);
  }
  h1{font-size: clamp(28px, 3.5vw, 40px); margin: 0 0 6px; letter-spacing:.3px; text-align: center;}
  h1 img { display: block; margin: 0 auto 10px; } /* Center the image within H1 */
  .subtitle{opacity:.9; margin: 6px 0 0; font-size: clamp(14px, 2.2vw, 18px); color: var(--muted)}
  .badges{display:flex; gap:10px; flex-wrap:wrap; margin-top:14px}
  .badge{border:1px solid var(--border); background: rgba(122,162,255,.10); color:#dbe6ff; padding:6px 10px; border-radius:999px; font-size:12px}
  nav.toc{
    margin-top:18px; padding:16px; border:1px dashed var(--border); border-radius:12px;
    background: rgba(16,26,47,.6);
  }
  nav.toc a{color:var(--accent); text-decoration:none}
  nav.toc a:hover{text-decoration:underline}
  section{
    margin-top:26px;
    border:1px solid var(--border);
    background: var(--card);
    border-radius:16px;
    padding:22px;
    box-shadow: 0 6px 18px rgba(0,0,0,.25);
  }
  h2{margin-top:0; font-size: 24px}
  h3{font-size: 20px; margin-top:18px}
  code, pre{font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace}
  pre{
    background: var(--code);
    border:1px solid var(--border);
    border-radius: 12px;
    padding: 14px;
    overflow:auto;
  }
  code.inline{background: rgba(94,234,212,.12); padding:2px 6px; border-radius:6px; border:1px solid rgba(94,234,212,.25)}
  a{color: var(--accent);}
  .callout{
    border-left:4px solid var(--accent-2);
    background: rgba(94,234,212,.08);
    padding:12px 14px; border-radius:10px; margin:12px 0;
  }
  ul, ol{padding-left: 22px}
  .grid{display:grid; gap:16px}
  .two{grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));}
  footer{opacity:.7; text-align:center; margin:26px 0 10px; font-size:13px}
  .hr{height:1px; background:linear-gradient(90deg, transparent, #1e2a44, transparent); margin: 24px 0}
  table { width: 100%; border-collapse: collapse; margin-top: 15px; }
  th, td { border: 1px solid var(--border); padding: 8px; text-align: left; }
  th { background-color: var(--code); }
</style>
</head>
<body>
  <div class="wrap">
    <header>
      <h1>
        <img src="https://github.com/user-attachments/assets/db3d47be-4bb8-4a87-82b7-1b8cfd8afe56" alt="PulseQuery AI Logo" width="100"/>
        PulseQuery AI : Energy-Efficient Medical Prompt Optimization
      </h1>
      <p class="subtitle"><strong>Advanced Medical AI System</strong> with MedGemma Model, Medical Document Processing &amp; RAG Technology</p>
      <div class="badges">
        <span class="badge">Python 3.8+</span>
        <span class="badge">Flask</span>
        <span class="badge">PyTorch</span>
        <span class="badge">Transformers</span>
        <span class="badge">ChromaDB</span>
        <span class="badge">llama-cpp-python</span>
        <span class="badge">CUDA (optional)</span>
      </div>
      <nav class="toc">
        <strong>Contents:</strong>
        <div class="grid two">
          <div>
            <a href="#key-features-optimization">Key Features (Optimization)</a> ‚Ä¢
            <a href="#advanced-medical-ai">Advanced Medical AI</a> ‚Ä¢
            <a href="#overview">Overview</a> ‚Ä¢
            <a href="#features">Features</a> ‚Ä¢
            <a href="#prereq">Prerequisites</a> ‚Ä¢
            <a href="#install">Installation</a>
          </div>
          <div>
            <a href="#access-interface">Access Interface</a> ‚Ä¢
            <a href="#testing">Testing</a> ‚Ä¢
            <a href="#api">API Endpoints</a> ‚Ä¢
            <a href="#deviations">Key Improvements</a> ‚Ä¢
            <a href="#troubleshooting">Troubleshooting</a> ‚Ä¢
            <a href="#performance">Performance</a> ‚Ä¢
            <a href="#security">Security</a> ‚Ä¢
            <a href="#monitoring">Monitoring</a> ‚Ä¢
            <a href="#contrib">Contributing</a> ‚Ä¢
            <a href="#license">License</a> ‚Ä¢
            <a href="#support">Support</a>
          </div>
        </div>
      </nav>
      <!-- Removed the callout from original as it wasn't in the markdown -->
    </header>

    <section id="key-features-optimization">
      <h2>‚ú® Key Features</h2>
      <h3>üß† <strong>Intelligent Prompt Optimization</strong></h3>
      <ul>
        <li><strong>30%+ Energy Reduction</strong>: Measurable decrease in computational energy consumption</li>
        <li><strong>Semantic Preservation</strong>: Maintains clinical meaning while compressing medical queries</li>
        <li><strong>Real-time Processing</strong>: Sub-500ms optimization with 95%+ accuracy</li>
      </ul>
      <h3>ü©∫ <strong>Medical Intelligence</strong></h3>
      <ul>
        <li><strong>MedEmbed Integration</strong>: Specialized medical embeddings for precise clinical understanding</li>
        <li><strong>Medical Specialty Detection</strong>: Automatic classification using cosine similarity</li>
        <li><strong>Clinical Context Awareness</strong>: Smart context selection and relevance scoring</li>
      </ul>
      <h3>‚ö° <strong>Energy Analytics</strong></h3>
      <ul>
        <li><strong>kWh Tracking</strong>: Real-time energy consumption monitoring</li>
        <li><strong>Environmental Impact</strong>: CO‚ÇÇ emissions reduction calculations</li>
        <li><strong>Cost Savings</strong>: Direct energy cost analysis per optimization</li>
        <li><strong>Efficiency Metrics</strong>: Rounded, user-friendly performance indicators</li>
      </ul>
    </section>

    <div class="hr"></div>

    <section id="advanced-medical-ai">
      <h2>ü©∫ Advanced Medical AI with MedGemma, RAG, &amp; Document Processing</h2>
      <p><strong>PulseQuery AI</strong> is an advanced, privacy-focused medical AI system designed to deliver accurate, evidence-backed answers to clinical queries. Built for deployment within hospital private networks, it combines <strong>state-of-the-art medical AI models</strong>, <strong>Retrieval-Augmented Generation (RAG)</strong>, and <strong>secure document processing</strong>.</p>
    </section>

    <div class="hr"></div>

    <section id="overview">
      <h2>üìã Overview</h2>
      <p>PulseQuery AI is built around three core principles:</p>
      <ol>
        <li><strong>Accuracy</strong> ‚Äì Powered by a specialized medical language model (MedGemma 4B).</li>
        <li><strong>Contextual Understanding</strong> ‚Äì Enhanced with RAG and medical embeddings for grounded responses.</li>
        <li><strong>Security &amp; Privacy</strong> ‚Äì All processing is performed locally, with role-based access control.</li>
      </ol>
      <h3>Core Components</h3>
      <ul>
        <li><strong>MedGemma 4B</strong> ‚Äì Optimized for medical queries with GPU acceleration.</li>
        <li><strong>MedEmbed</strong> ‚Äì Specialized medical embedding models for semantic search and retrieval.</li>
        <li><strong>RAG System</strong> ‚Äì Retrieval-Augmented Generation to ensure responses are fact-based and grounded in your own knowledge base.</li>
        <li><strong>Document Processing</strong> ‚Äì Supports ingestion of PDFs, DOCX, and TXT files.</li>
        <li><strong>Role-Based Authentication</strong> ‚Äì Different access levels for doctors, nurses, admins, and residents.</li>
      </ul>
    </section>

    <div class="hr"></div>

    <section id="features">
      <h2>‚ú® Key Features</h2>
      <ul>
        <li>ü§ñ <strong>AI-Powered Medical Reports</strong> ‚Äì Generate domain-specific, accurate medical answers.</li>
        <li>üìÑ <strong>Secure Document Upload &amp; Processing</strong> ‚Äì Ingest and process local medical documents with no external API calls.</li>
        <li>üîç <strong>Semantic Search</strong> ‚Äì Medical-specialized retrieval to surface the most relevant content.</li>
        <li>üß† <strong>RAG-Enhanced Responses</strong> ‚Äì Reduces hallucinations by grounding outputs in real data.</li>
        <li>üîê <strong>Role-Based Permissions</strong> ‚Äì Fine-grained control over access rights.</li>
        <li>üñ•Ô∏è <strong>Web Interface</strong> ‚Äì Simple UI for testing and interaction.</li>
        <li>‚ö° <strong>GPU Support</strong> ‚Äì CUDA acceleration for high-performance inference.</li>
      </ul>
    </section>

    <div class="hr"></div>

    <section id="prereq">
      <h2>üõ†Ô∏è Prerequisites</h2>
      <h3>System Requirements</h3>
      <ul>
        <li><strong>Python</strong>: 3.8+</li>
        <li><strong>RAM</strong>: 8GB minimum (16GB recommended for GPU workloads)</li>
        <li><strong>Storage</strong>: 10GB+</li>
        <li><strong>GPU</strong> (optional): CUDA-compatible NVIDIA GPU for acceleration</li>
      </ul>
      <h3>Dependencies</h3>
      <p>Key packages:</p>
      <pre><code class="language-bash">Flask>=2.0
torch>=1.9
transformers>=4.20
sentence-transformers
chromadb
langchain-community
llama-cpp-python
pypdf
python-docx
</code></pre>
    </section>

    <div class="hr"></div>

    <section id="install">
      <h2>üöÄ Installation</h2>
      <h3><strong>1. Clone the Repository</strong></h3>
      <pre><code class="language-bash">git clone https://github.com/your-username/pulsequery-ai.git
cd pulsequery-ai
</code></pre>
      <h3><strong>2. Create Virtual Environment</strong></h3>
      <p># Windows</p>
      <pre><code class="language-bash">python -m venv venv
venv\Scripts\activate
</code></pre>
      <p># Linux/Mac</p>
      <pre><code class="language-bash">python -m venv venv
source venv/bin/activate
</code></pre>
      <h3><strong>3. Install Dependencies</strong></h3>
      <pre><code class="language-bash">pip install -r requirements.txt
</code></pre>
      <p># Or install manually:</p>
      <pre><code class="language-bash">pip install flask torch transformers sentence-transformers
pip install chromadb langchain-community llama-cpp-python pypdf python-docx
</code></pre>
      <h3><strong>4. Download Models</strong></h3>
      <p>Create models/ directory and download medgemma-4b-it-Q8_0.gguf.</p>
      <pre><code class="language-bash">mkdir models
</code></pre>
      <p># Place medgemma-4b-it-Q8_0.gguf in models/</p>
      <pre><code class="language-text">pulsequery-ai/
‚îú‚îÄ‚îÄ app.py
‚îú‚îÄ‚îÄ config/
‚îÇ¬† ¬†‚îî‚îÄ‚îÄ config.py
‚îú‚îÄ‚îÄ core/
‚îÇ¬† ¬†‚îú‚îÄ‚îÄ medgemma_inference.py
‚îÇ¬† ¬†‚îî‚îÄ‚îÄ rag_system.py
‚îú‚îÄ‚îÄ services/
‚îÇ¬† ¬†‚îú‚îÄ‚îÄ auth_service.py
‚îÇ¬† ¬†‚îú‚îÄ‚îÄ session_manager.py
‚îÇ¬† ¬†‚îî‚îÄ‚îÄ auth_decorators.py
‚îú‚îÄ‚îÄ models/
‚îÇ¬† ¬†‚îî‚îÄ‚îÄ medgemma-4b-it-Q8_0.gguf
‚îú‚îÄ‚îÄ data/
‚îÇ¬† ¬†‚îî‚îÄ‚îÄ chromadb/
‚îú‚îÄ‚îÄ tests/
‚îÇ¬† ¬†‚îî‚îÄ‚îÄ test_rag.py
‚îú‚îÄ‚îÄ logs/
‚îÇ¬† ¬†‚îî‚îÄ‚îÄ app_YYYYMMDD_HHMMSS.log
‚îî‚îÄ‚îÄ requirements.txt
</code></pre>
      <h3><strong>Configuration</strong></h3>
      <h4>Environment Variables</h4>
      <p>Create .env file:</p>
      <pre><code class="language-shell">MEDGEMMA_MODEL_PATH=models/medgemma-4b-it-Q8_0.gguf
RAG_DATA_DIR=data/chromadb
FLASK_ENV=development
FLASK_DEBUG=True
</code></pre>
      <h3><strong>Config File (config/config.py)</strong></h3>
      <pre><code class="language-python">class Config:
    SECRET_KEY = 'change-me-in-production'
    HOST = '127.0.0.1'
    PORT = 5000
</code></pre>
      <h3><strong>Step 5 ‚Äì Running the Application</strong></h3>
      <p>Start the Flask application:</p>
      <pre><code class="language-bash">python app.py
</code></pre>
      <h3><em>You should see:</em></h3>
      <pre><code>‚úÖ MedGemma import successful
‚úÖ RAG initialized
üåê Server running at http://localhost:5000
</code></pre>
    </section>

    <div class="hr"></div>

    <section id="access-interface">
      <h2>üåê Step 6 ‚Äì Access the Interface</h2>
      <ul>
        <li><strong>Main Server</strong>: <a href="http://localhost:5000">http://localhost:5000</a></li>
        <li><strong>Test UI</strong>: <a href="http://localhost:5000/test-ui">http://localhost:5000/test-ui</a></li>
        <li><strong>Health Check</strong>: <a href="http://localhost:5000/health">http://localhost:5000/health</a></li>
      </ul>
      <h3>Demo Credentials</h3>
      <table>
        <thead>
          <tr>
            <th>Role</th>
            <th>Username</th>
            <th>Password</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Doctor</td>
            <td>doctor1</td>
            <td>password123</td>
          </tr>
          <tr>
            <td>Admin</td>
            <td>admin1</td>
            <td>admin123</td>
          </tr>
          <tr>
            <td>Nurse</td>
            <td>nurse1</td>
            <td>nurse123</td>
          </tr>
          <tr>
            <td>Resident</td>
            <td>resident1</td>
            <td>resident123</td>
          </tr>
        </tbody>
      </table>
    </section>

    <div class="hr"></div>

    <section id="testing">
      <h2>üß™ Step 7 ‚Äì Testing</h2>
      <pre><code class="language-bash">python tests/test_medembed.py
</code></pre>
      <h3><strong>Test RAG</strong></h3>
      <pre><code class="language-bash">python tests/test_rag.py
</code></pre>
    </section>

    <div class="hr"></div>

    <section id="api">
      <h2>üìö Step 8 ‚Äì API Endpoints</h2>
      <h3>Authentication</h3>
      <pre><code class="language-text">POST /api/auth/login
</code></pre>
      <h3>Document Upload</h3>
      <pre><code class="language-text">POST /api/rag/upload
</code></pre>
      <h3>Semantic Search</h3>
      <pre><code class="language-text">POST /api/rag/search
</code></pre>
      <h3>AI Generation</h3>
      <pre><code class="language-text">POST /api/medgemma/generate-with-rag
</code></pre>
    </section>

    <div class="hr"></div>

    <section id="deviations">
      <h2>üîÑ Step 9 ‚Äì Key Improvements Over Original Plan</h2>
      <ol>
        <li><strong>N-gram ‚Üí Transformer Embeddings</strong> ‚Äì Better semantic understanding.</li>
        <li><strong>Statistical Fluency ‚Üí Medical Prompt Templates</strong> ‚Äì Domain-specific prompts.</li>
        <li><strong>Basic Tokenization ‚Üí Medical Info Extraction</strong> ‚Äì Structured patient data.</li>
        <li><strong>Simple Scoring ‚Üí Multi-Dimensional Metrics</strong> ‚Äì Context, terminology density, etc.</li>
      </ol>
    </section>

    <div class="hr"></div>

    <section id="troubleshooting">
      <h2>üîß Step 10 ‚Äì Troubleshooting</h2>
      <h3>RAG Not Available</h3>
      <pre><code class="language-bash">python tests/test_rag.py
</code></pre>
      <h3>Model Not Loading</h3>
      <p>## Verify path to .gguf model file.</p>
      <h3>Ensure 8GB+ RAM or force CPU mode:</h3>
      <pre><code class="language-bash">set CUDA_VISIBLE_DEVICES=
</code></pre>
      <h3>Import Errors</h3>
      <pre><code class="language-bash">pip install --upgrade langchain-community
</code></pre>
    </section>

    <div class="hr"></div>

    <section id="performance">
      <h2>üìä Step 11 ‚Äì Performance Optimization</h2>
      <ul>
        <li><strong>Enable GPU acceleration</strong> if available.</li>
        <li><strong>Use ChromaDB</strong> for fast vector search.</li>
        <li><strong>Process documents in chunks</strong> for memory efficiency.</li>
      </ul>
    </section>

    <div class="hr"></div>

    <section id="security">
      <h2>üîí Step 12 ‚Äì Security Best Practices</h2>
      <ul>
        <li><strong>Change default credentials</strong> before production.</li>
        <li><strong>Use HTTPS</strong> for secure communication.</li>
        <li><strong>Store all medical data locally</strong> to ensure privacy.</li>
      </ul>
    </section>

    <div class="hr"></div>

    <section id="monitoring">
      <h2>üìà Step 13 ‚Äì Monitoring</h2>
      <ul>
        <li><strong>System Health</strong> ‚Äì <code class="inline">/health</code> endpoint.</li>
        <li><strong>Logs</strong> ‚Äì stored in <code class="inline">/logs</code>.</li>
      </ul>
    </section>

    <div class="hr"></div>

    <section id="contrib">
      <h2>ü§ù Step 14 ‚Äì Contributing</h2>
      <ol>
        <li>Fork repository</li>
        <li>Create a feature branch</li>
        <li>Commit &amp; push changes</li>
        <li>Submit a Pull Request</li>
      </ol>
    </section>

    <div class="hr"></div>

    <section id="license">
      <h2>üìÑ Step 15 ‚Äì License</h2>
      <p>MIT License ‚Äì see <code class="inline">LICENSE</code>.</p>
    </section>

    <div class="hr"></div>

    <section id="support">
      <h2>üÜò Step 16 ‚Äì Support</h2>
      <p>If you face issues:</p>
      <ul>
        <li>Check <code class="inline">/logs</code></li>
        <li>Run test scripts</li>
        <li>Open GitHub issue with:</li>
        <li>Error logs</li>
        <li>System configuration</li>
        <li>Steps to reproduce</li>
      </ul>
      <div class="hr"></div>
      <p><strong>PulseQuery AI ‚Äì Advancing Medical AI Technology with Trust &amp; Accuracy</strong></p>
    </section>

    <footer>
      &copy; PulseQuery AI. Built for privacy-first clinical AI.
    </footer>
  </div>
</body>
</html>
